<!DOCTYPE html>
<html lang="en">

<head>
    <!-- meta data -->
    <title>Team 70, Ukraine pet adopt</title>
    <meta charset="UTF-8">
    <meta name="author" content="arina, hristo, alfonso">
    <meta name="content" content="ukraine pet adopt, about, dogs, other cats">
    <meta name="keywords" content="ukraine pet adoption, pet adoption, family for dogs">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Links to files -->
    <link rel="stylesheet" href="../style/main.css">

</head>

<body>
    <header>
        <div class="donate">
            <form method="get" action="/donate">
                <button type="submit" name="tier" value="none">Donate</button>
            </form>
        </div>

        <div class="title-row">
            <img class="logo" src="assets/PNG/Logo.png">
            <h1>Brave Shelter</h1>
            <ul>
                <li>Telef:
                </li>
                <li>Instagram</li>
                <li>Facebook</li>
            </ul>
        </div>
    </header>

    <nav>
        <form method="get" action="/">
            <button type="submit">Home</button>
        </form>
        <form method="get" action="/about">
            <button type="submit">About</button>
        </form>
        <form method="get" action="/animal/dogs">
            <button type="submit">Dogs</button>
        </form>
        <form method="get" action="/animal/cats">
            <button type="submit">Cats</button>
        </form>
        <form method="get" action="/animal/other">
            <button type="submit">Other</button>
        </form>
    </nav>
    <!--Search Bar-->
    <form method="get" action="/search" class="search">
        <input type="text" placeholder="Search..." name="search_value">
        <input type="hidden" name="search_for" value="all">
        <input type="hidden" name="search_pref" value="default">
        <input type="hidden" name="samples" value="10">
        <button type="submit"><img src="assets/icons/search.png"></button>
        <!--page content -->
        <div class="search-preferences">
            <div>
                <label>Pet selection:</label>
                <select name="search-for" size="4">
                    <option value="all">All</option>
                    <option value="dogs">Dogs</option>
                    <option value="cats">Cats</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div>
                <label>Sort by:</label>
                <select name="sort-by" id="sort-by" multiple>
                    <!-- sort by birth asc/desc-->
                    <option value="age-asc">Age ascending</option>
                    <option value="age-des">Age descending</option>
                    <!-- sort by id-->
                    <option value="id-last">Most Recent</option>
                    <option value="id-first">Oldest Admitted</option>
                </select>
            </div>
            <div>
                <button type="submit"> Apply Changes</button>
            </div>
    </form>
    </div>
    <div class="pet-preview">
        <ul>
            <%
            for(let i=0; i < petlist.length; i++) {
                let pet = petlist[i];
            %>
                <li>
                    <ul>
                        <li>
                            <h3><%= pet.name %></h3>
                        </li>
                        <li>
                            <div>
                                <% if(pet.picture) { %>
                                    <img src="data:image/jpeg;base64, <%= pet.picture.toString('base64') %>" alt="dogImage">
                                <% } else { %>
                                    <img src="../assets/img/cat1slides.jpg" alt="dogImage">
                                <% } %>
                                <ul>
                                    <% if(showType) { %>
                                        <li>Type: <%= pet.type %></li>
                                    <% } %>
                                    <%
                                    let ageDifMs = Date.now() - Date.parse(pet.birth);
                                    let ageDate = new Date(ageDifMs); // miliseconds from epoch
                                    let age = Math.abs(ageDate.getUTCFullYear() - 1970);
                                    %>
                                    <li>Age: <%= age %></li>
                                    <li>Weight: <%= pet.weight %>kg</li>
                                    <li>Gender: <%= pet.gender %></li>
                                    <li>Sponsorship: &euro; <%= pet.price %></li>
                                    <li class="petcontent">
                                        <p><%= pet.description %></p>
                                    </li>
                                </ul>

                            </div>
                        </li>
                        <li>
                            <form method="get" action="/adopt" class="adopt">
                                <input type="hidden" name="pet_id" value="<%= pet.id %>">
                                <button type="submit">Adopt <%= pet.name %></button>
                            </form>
                        </li>
                    </ul>
                </li>
            <%
            }
            %>
        </ul>
    </div>



    <!--footer-->
    <footer>
        <img class="logo" src="../assets/PNG/Logo.png">
        <h1>Brave Shelter</h1>
        <p>Copyright information</p>
        <ul>
            <li> <a href="#">Disclaimer</a>
            </li>
            <li>
                <a href="#">Subscribe</a>
            </li>
            <li> <a href="#">Contact</a>
            </li>
        </ul>
    </footer>
    </div>




</body>

</html>